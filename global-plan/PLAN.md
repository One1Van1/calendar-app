# План разработки локального календаря

## Этап 1: Подготовка и инициализация проекта
### 1.1 Настройка структуры проекта ✓
- [x] Создать корневую директорию
- [ ] Инициализировать monorepo структуру
- [ ] Настроить TypeScript конфигурацию

### 1.2 Backend (NestJS)
- [ ] Инициализировать NestJS приложение
- [ ] Настроить TypeORM с SQLite
- [ ] Создать базовую структуру модулей:
  - Events Module
  - Categories Module
  - Reminders Module
- [ ] Настроить CORS для локального взаимодействия

### 1.3 Frontend (Electron)
- [ ] Инициализировать Electron приложение
- [ ] Настроить базовое окно приложения
- [ ] Настроить связь с NestJS backend
- [ ] Создать базовый UI для календаря

## Этап 2: Разработка Backend API

### 2.1 Database Schema
- [ ] Создать entity для Events
  - id, title, description, startDate, endDate, categoryId
- [ ] Создать entity для Categories
  - id, name, color
- [ ] Создать entity для Reminders
  - id, eventId, reminderTime

### 2.2 API Endpoints
#### Events
- [ ] `GET /events` - получить все события
- [ ] `GET /events/:id` - получить событие по ID
- [ ] `POST /events` - создать событие
- [ ] `PUT /events/:id` - обновить событие
- [ ] `DELETE /events/:id` - удалить событие
- [ ] `GET /events/range?start=&end=` - получить события за период

#### Categories
- [ ] `GET /categories` - получить все категории
- [ ] `POST /categories` - создать категорию
- [ ] `PUT /categories/:id` - обновить категорию
- [ ] `DELETE /categories/:id` - удалить категорию

#### Reminders
- [ ] `GET /reminders` - получить все напоминания
- [ ] `POST /reminders` - создать напоминание
- [ ] `DELETE /reminders/:id` - удалить напоминание

## Этап 3: Разработка Frontend

### 3.1 Основной UI
- [ ] Компонент календарной сетки (месячный вид)
- [ ] Навигация по месяцам (вперёд/назад)
- [ ] Отображение текущей даты
- [ ] Выделение выбранной даты

### 3.2 Управление событиями
- [ ] Модальное окно создания события
- [ ] Модальное окно редактирования события
- [ ] Карточка события с деталями
- [ ] Список событий на выбранный день
- [ ] Drag & drop для перемещения событий (опционально)

### 3.3 Дополнительные функции
- [ ] Поиск событий
- [ ] Фильтрация по категориям
- [ ] Настройки приложения
- [ ] Экспорт/импорт данных

## Этап 4: Интеграция Electron

### 4.1 Настройка окна приложения
- [ ] Настроить размеры окна
- [ ] Добавить иконку в Dock
- [ ] Настроить меню приложения (File, Edit, View)
- [ ] Горячие клавиши

### 4.2 Нативные функции
- [ ] Системные уведомления для напоминаний
- [ ] Автозапуск приложения при старте системы (опционально)
- [ ] Tray icon с быстрым доступом (опционально)

### 4.3 IPC Communication
- [ ] Настроить безопасное взаимодействие между main и renderer процессами
- [ ] Создать API bridge для backend запросов

## Этап 5: Тестирование и оптимизация

### 5.1 Тестирование
- [ ] Unit тесты для backend API
- [ ] E2E тесты для основных сценариев
- [ ] Тестирование на разных версиях macOS

### 5.2 Оптимизация
- [ ] Оптимизация запросов к БД
- [ ] Улучшение производительности UI
- [ ] Минимизация размера приложения

## Этап 6: Сборка и развёртывание

### 6.1 Сборка приложения
- [ ] Настроить electron-builder
- [ ] Создать .dmg файл для macOS
- [ ] Настроить подпись приложения (опционально)

### 6.2 Документация
- [ ] Руководство пользователя
- [ ] Документация для разработчиков
- [ ] Инструкция по установке и запуску

## Этап 7: Дополнительные улучшения (опционально)
- [ ] Темная/светлая тема
- [ ] Синхронизация с облачными календарями (Google Calendar, iCloud)
- [ ] Повторяющиеся события
- [ ] Экспорт в iCal формат
- [ ] Интеграция с другими приложениями через AppleScript
